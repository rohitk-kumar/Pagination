#pragma checksum "C:\RajProj\Pages\MerchantInfoView.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "5ae3942f1d7c48233833f9ff47456b5ab9aa7a3a"
// <auto-generated/>
#pragma warning disable 1591
namespace RajProj.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\RajProj\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\RajProj\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\RajProj\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\RajProj\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\RajProj\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\RajProj\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\RajProj\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\RajProj\_Imports.razor"
using RajProj;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\RajProj\_Imports.razor"
using RajProj.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\RajProj\Pages\MerchantInfoView.razor"
using RajProj.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\RajProj\Pages\MerchantInfoView.razor"
using RajProj.ViewModels;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\RajProj\Pages\MerchantInfoView.razor"
using RajProj.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\RajProj\Pages\MerchantInfoView.razor"
using System.Threading;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/merchantinfo")]
    public partial class MerchantInfoView : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.AddMarkupContent(0, @"<style>
    .center {
        text-align: center;
    }

    .pagination {
        display: inline-block;
    }

        .pagination a {
            color: black;
            float: left;
            padding: 8px 16px;
            text-decoration: none;
            transition: background-color .3s;
            border: 1px solid #ddd;
            font-size: 22px;
        }

            .pagination a.active {
                background-color: #4CAF50;
                color: white;
                border: 1px solid #4CAF50;
            }

            .pagination a:hover:not(.active) {
                background-color: #ddd;
            }
</style>
");
#nullable restore
#line 38 "C:\RajProj\Pages\MerchantInfoView.razor"
 if (merchants == null)
{

#line default
#line hidden
#nullable disable
            __builder.AddContent(1, "    ");
            __builder.AddMarkupContent(2, "<p><em>Loading...</em></p>\r\n");
#nullable restore
#line 41 "C:\RajProj\Pages\MerchantInfoView.razor"
}
else
{

#line default
#line hidden
#nullable disable
            __builder.AddContent(3, "    ");
            __builder.OpenElement(4, "table");
            __builder.AddAttribute(5, "class", "table");
            __builder.AddMarkupContent(6, "\r\n        ");
            __builder.AddMarkupContent(7, @"<thead>
            <tr>
                <th>Merchant Name</th>
                <th>Account</th>
                <th>Daily Max Transaction Amount</th>
                <th>Daily Min Transaction Amount</th>
            </tr>
        </thead>
        ");
            __builder.OpenElement(8, "tbody");
            __builder.AddMarkupContent(9, "\r\n");
#nullable restore
#line 54 "C:\RajProj\Pages\MerchantInfoView.razor"
             foreach (var merchant in viewModel.Merchants)
            {

#line default
#line hidden
#nullable disable
            __builder.AddContent(10, "                ");
            __builder.OpenElement(11, "tr");
            __builder.AddMarkupContent(12, "\r\n                    ");
            __builder.OpenElement(13, "td");
            __builder.AddMarkupContent(14, "\r\n                        ");
            __builder.AddContent(15, 
#nullable restore
#line 58 "C:\RajProj\Pages\MerchantInfoView.razor"
                         merchant.MerhchantName

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(16, "\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(17, "\r\n                    ");
            __builder.OpenElement(18, "td");
            __builder.AddMarkupContent(19, "\r\n                        ");
            __builder.AddContent(20, 
#nullable restore
#line 61 "C:\RajProj\Pages\MerchantInfoView.razor"
                         merchant.Account

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(21, "\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(22, "\r\n                    ");
            __builder.OpenElement(23, "td");
            __builder.AddMarkupContent(24, "\r\n                        ");
            __builder.AddContent(25, 
#nullable restore
#line 64 "C:\RajProj\Pages\MerchantInfoView.razor"
                         merchant.MaxDailyTransactionAmount

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(26, "\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(27, "\r\n                    ");
            __builder.OpenElement(28, "td");
            __builder.AddMarkupContent(29, "\r\n                        ");
            __builder.AddContent(30, 
#nullable restore
#line 67 "C:\RajProj\Pages\MerchantInfoView.razor"
                         merchant.MinDailyTranAmount

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(31, "\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(32, "\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(33, "\r\n");
#nullable restore
#line 70 "C:\RajProj\Pages\MerchantInfoView.razor"
            }

#line default
#line hidden
#nullable disable
            __builder.AddContent(34, "        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(35, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(36, "\r\n    ");
            __builder.OpenElement(37, "div");
            __builder.AddAttribute(38, "class", "center");
            __builder.AddMarkupContent(39, "\r\n        ");
            __builder.OpenElement(40, "div");
            __builder.AddAttribute(41, "class", "pagination");
            __builder.AddMarkupContent(42, "\r\n            ");
            __builder.AddMarkupContent(43, "<a href=\"#\">&laquo;</a>\r\n");
#nullable restore
#line 76 "C:\RajProj\Pages\MerchantInfoView.razor"
             for (int i = 1; i <= viewModel.TotalPages; i++)
            {
                int index = @i;
                

#line default
#line hidden
#nullable disable
            __builder.OpenElement(44, "a");
            __builder.AddAttribute(45, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 79 "C:\RajProj\Pages\MerchantInfoView.razor"
                                 () => GetAllAccounts(@index) 

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(46, "href", "#");
            __builder.AddContent(47, 
#nullable restore
#line 79 "C:\RajProj\Pages\MerchantInfoView.razor"
                                                                           i

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(48, "\r\n");
#nullable restore
#line 80 "C:\RajProj\Pages\MerchantInfoView.razor"
            }

#line default
#line hidden
#nullable disable
            __builder.AddContent(49, "            ");
            __builder.AddMarkupContent(50, "<a href=\"#\">&raquo;</a>\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(51, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(52, "\r\n");
#nullable restore
#line 84 "C:\RajProj\Pages\MerchantInfoView.razor"
}

#line default
#line hidden
#nullable disable
        }
        #pragma warning restore 1998
#nullable restore
#line 87 "C:\RajProj\Pages\MerchantInfoView.razor"
     
    Merchant[] merchants;
    List<Merchant> mList = new List<Merchant>();

    public Merchant[] Merc1 { get; set; }

    protected override async Task OnInitializedAsync()
    {
        viewModel.PageId = 1;
        viewModel.RowCount = 10;

        merchants = await viewModel.GetMerchantsAsync(DateTime.Now);
        mList = viewModel.GetAccountList(viewModel.PageId, 10);

        viewModel.EA.GetEvent<DbUpdatedEvent>().Subscribe(GetAllAccounts);
    }
    //could make this method async.
    private async void GetAllAccounts(string message)
    {
        //viewModel.GetAccounts();

        mList = viewModel.GetAccountList(viewModel.PageId, viewModel.RowCount);
        await InvokeAsync(() => StateHasChanged()); 
        //StateHasChanged();
    }
    private void GetAllAccounts(int pageID)
    {

        mList = viewModel.GetAccountList(pageID, viewModel.RowCount);

        StateHasChanged();

    }


#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private MerchantInfoViewModel viewModel { get; set; }
    }
}
#pragma warning restore 1591
